---
name: commit-message
description: Git差分を確認して、日本語・絵文字付きConventional Commit形式のコミットメッセージを作成し、必要ならコミットまで実行する。
---

# コミットメッセージ作成スキル

## このスキルを適用するトリガー
次の依頼が来たら、このスキルを必ず使う。
- 「コミットメッセージを考えて」
- 「差分を見てコミットメッセージを作って」
- 「それでコミットして」
- 「git add してコミットして」

## 基本方針
- 必ず差分確認後にコミットメッセージを作る。
- メッセージは日本語で作成する。
- 形式は `絵文字 type: 説明` を基本とする。
- 「絵文字不要」の指示がある場合は絵文字なしにする。
- 変更が論理的に分けられる場合は分割案を提示する。

## 必須手順
1. `git status -sb` で変更ファイル一覧を確認する。
2. `git diff`（必要なら `git diff -- <path>`）で具体的変更を確認する。
3. 変更内容に合う `emoji` と `type` を選ぶ。
4. コミットメッセージ案を日本語で提示する。
5. メッセージの意図を1-3行で説明し、承認を求める。
6. 「それでコミットして」と指示された場合のみ `git add` と `git commit` を実行する。

## 重要な制約
- コミットメッセージ作成依頼では、不要なファイル編集をしない。
- AI生成の免責文（Generated with ... など）をコミット本文に入れない。
- 不明点がある場合は推測で進めず確認する。

## 絵文字の目安
- `✨ feat`: 新機能
- `🐛 fix`: バグ修正
- `♻️ refactor`: リファクタ
- `📝 docs`: ドキュメント更新
- `🔧 chore`: 設定・雑務
- `⚡️ perf`: 性能改善
- `✅ test`: テスト追加・更新
- `🚑️ hotfix`: 緊急修正
- `🔥 remove`: 削除系

## 出力テンプレート
### メッセージ提案のみの場合
```text
<emoji> <type>: <変更内容を日本語で簡潔に>
```

### 分割提案が必要な場合
```text
1. <emoji> <type>: <変更A>
2. <emoji> <type>: <変更B>
```
